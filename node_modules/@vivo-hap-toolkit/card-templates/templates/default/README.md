# 卡片 Demo

## 注意

1. 卡片使用的是 vivo 的打包工具 [vivo-hap-toolkit](https://www.npmjs.com/package/vivo-hap-toolkit)
2. 手机端需要安装卡片调试器、卡片引擎
3. 卡片开发是单独一个项目，不要和原有的快应用项目混在一起

## 安装预览

1. 进入项目目录执行 `npm install` 安装依赖
2. `npm run watch` 执行编译并监听
3. 在另外一个终端 `npm run server` 开启服务器，用卡片调试器扫描二维码预览

## 开发

```sh
# 同时启动 server 和 watch 功能
npm run dev

# 分别启动 server 和 watch 功能
npm run server
npm run watch
```

## 打包编译

```sh
# 构建测试包
npm run build
# 构建正式包
npm run release
```

## 允许使用本地图片

打包时添加`--local-image`即可使用输出包含本地图片的应用包。

快应用卡片默认不允许使用本地图片，故此参数未配置在 `package.json`中，你可根据自
身情况配置

```sh
npm run build -- -l

或者

npm run build -- --local-image
```

## 注意

新版的卡片模板默认添加`--vivo`以方便您使用。如不需要`--vivo`参数，可借助`npx`
执行命令

`npm run build` 等价于 `npx hap build --vivo`

不需要`--vivo` 参数时： `npx hap build`
