"use strict";var _loaderUtils=_interopRequireDefault(require("loader-utils")),_compiler=require("@hap-toolkit/compiler"),_utils=require("./common/utils"),_compilationConfig=require("@hap-toolkit/shared-utils/compilation-config");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const componentId=(()=>{const e=new Map;let t=1;return{get:t=>e.get(t),add(o){e.has(o)||e.set(o,t++)}}})();module.exports=function(e){this.cacheable&&this.cacheable();const t=this,o=_loaderUtils.default.parseQuery(this.query),i=!!(0,_utils.getWebpackOptions)(this).suppresslogs,n=this.resourcePath,{depList:s,log:r,depFiles:l,jsonStyle:a}=(0,_compiler.parseStyle)({filePath:n,code:e,query:o});_compilationConfig.options.enableExtractCss&&(componentId.add(n),a&&(a["@info"]={styleObjectId:componentId.get(n)}));const c=JSON.stringify(a,null,2);return r&&r.length&&(0,_utils.logWarn)(this,r,i),s.forEach((function(e){t.addDependency(e)})),l.forEach(e=>{t.addDependency((0,_utils.convertPath)(e))}),c};
//# sourceMappingURL=style-loader.js.map
